# HaruDiary App â€“ API ëª…ì„¸ì„œ (v0.1)
---

## âœ… API ê¸°ë³¸ ì •ë³´
- API í†µì‹ : RESTful (JSON ê¸°ë°˜)
- ì¸ì¦ ë°©ì‹: (í–¥í›„) í† í° ê¸°ë°˜ ì¸ì¦ ë˜ëŠ” ì‚¬ìš©ì UUID
- ì‘ë‹µ í˜•ì‹: `application/json`
- ì—ëŸ¬ ì½”ë“œ: HTTP ìƒíƒœ ì½”ë“œ + ë©”ì‹œì§€

---

## ğŸ™ï¸ [POST] /stt/whisper
### ì„¤ëª…
ë…¹ìŒëœ ì˜¤ë””ì˜¤ íŒŒì¼ì„ Whisperë¡œ STT ì²˜ë¦¬

### ìš”ì²­
- Content-Type: multipart/form-data
- í•„ë“œ:
  - `audio`: `.wav` or `.mp3` íŒŒì¼ ì—…ë¡œë“œ

### ì‘ë‹µ
```json
{
  "text": "ì˜¤ëŠ˜ì€ íšŒì˜ê°€ ë§ì•˜ë‹¤.",
  "segments": [
    {"start": "00:00:00", "end": "00:00:30", "text": "íšŒì˜ ì‹œì‘ ì „..."}
  ]
}
```

### ì‘ë‹µ ì½”ë“œ
- 200 OK
- 400 Bad Request (íŒŒì¼ ëˆ„ë½)
- 500 Internal Server Error

---

## âœ¨ [POST] /summary/gpt
### ì„¤ëª…
STT ê²°ê³¼ í…ìŠ¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìš”ì•½ ìƒì„±

### ìš”ì²­
```json
{
  "text": "íšŒì˜ ì‹œì‘ ì „ ìš°ë¦¬ëŠ”..."
}
```

### ì‘ë‹µ
```json
{
  "summary": "ì˜¤ëŠ˜ì€ ì˜¤ì „ íšŒì˜ì™€ ì ì‹¬ ì•½ì†ì´ ìˆì—ˆë‹¤.",
  "key_events": ["íšŒì˜", "ì ì‹¬"]
}
```

---

## ğŸ˜¡ [POST] /emotion/analyze
### ì„¤ëª…
í…ìŠ¤íŠ¸ ë‚´ìš©ì„ ê°ì • ë¶„ì„í•˜ì—¬ ì‹œê°„ëŒ€ë³„ ê°ì • ì¶”ì¶œ

### ìš”ì²­
```json
{
  "segments": [
    {"time": "09:00", "text": "íšŒì˜ ì „ ì§œì¦ë‚¬ë‹¤."},
    {"time": "13:00", "text": "ì ì‹¬ì´ ì¦ê±°ì› ë‹¤."}
  ]
}
```

### ì‘ë‹µ
```json
{
  "overall": "mixed",
  "timeline": [
    {"time": "09:00", "emotion": "negative"},
    {"time": "13:00", "emotion": "positive"}
  ]
}
```

---

## ğŸ’¾ [POST] /diary/save
### ì„¤ëª…
ìš”ì•½ + ì‚¬ìš©ì í¸ì§‘ ë‚´ìš© ì €ì¥

### ìš”ì²­
```json
{
  "date": "2025-07-29",
  "ai_summary": "ì˜¤ëŠ˜ì€ íšŒì˜ê°€ ìˆì—ˆë‹¤.",
  "user_edit": "íšŒì˜ ë‚´ìš©ì€ ë¹„ë°€ ìœ ì§€ í•„ìš”.",
  "segments": [],
  "emotion": {}
}
```

### ì‘ë‹µ
```json
{
  "status": "saved",
  "path": "diary/2025-07-29.json"
}
```

---

## ğŸ“… [GET] /diary?date=YYYY-MM-DD
### ì„¤ëª…
í•´ë‹¹ ë‚ ì§œì˜ ì¼ê¸° ë°ì´í„° ì¡°íšŒ

### ì‘ë‹µ
```json
{
  "date": "2025-07-29",
  "ai_summary": "...",
  "user_edit": "...",
  "segments": [],
  "emotion": {}
}
```

---
